<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Klimate Komfort — Отопление, Кондиционирование, Вентиляция</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #1a73e8;
      --primary-dark: #0d47a1;
      --accent: #ff6b35;
      --light: #f9f9f9;
      --dark: #333;
      --gray: #666;
      --light-gray: #eee;
      --white: #fff;
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
      --shadow-hover: 0 8px 25px rgba(0,0,0,0.15);
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: var(--dark);
      background: var(--white);
    }
    
    .container {
      width: 90%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }
    
    /* Header */
    .header {
      background: var(--white);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .header .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
    }
    
    /* ЛОГОТИП В ХЕДЕРЕ */
    .header-logo {
      font-family: 'Montserrat', sans-serif;
      font-weight: 900;
      font-size: 1.8rem;
      color: var(--primary);
      line-height: 1.1;
      display: flex;
      flex-direction: column;
    }
    .header-logo .logo-top {
      font-size: 2rem;
      line-height: 1;
    }
    .header-logo .logo-bottom {
      font-size: 1.6rem;
      color: var(--dark);
      line-height: 1;
    }
    
    .nav-menu ul {
      display: flex;
      list-style: none;
      gap: 25px;
    }
    .nav-menu a {
      text-decoration: none;
      color: var(--dark);
      font-weight: 500;
      transition: color 0.3s;
    }
    .nav-menu a:hover {
      color: var(--primary);
    }
    
    .header-contact {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .phone { font-weight: 600; color: var(--primary); }
    .phone a, .contact-phone, .phone-link {
      color: inherit;
      text-decoration: none;
    }
    .phone a:hover, .phone-link:hover { text-decoration: underline; }
    
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }
    .btn-primary {
      background: var(--primary);
      color: white;
    }
    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }
    .btn-secondary {
      background: var(--accent);
      color: white;
    }
    .btn-secondary:hover {
      background: #e55a2e;
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }
    .btn-outline {
      border: 2px solid var(--primary);
      color: var(--primary);
      background: transparent;
    }
    .btn-outline:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-2px);
    }
    
    /* Hero */
    .hero {
      background: linear-gradient(135deg, #eef5ff 0%, #ffffff 100%);
      padding: 80px 0;
      text-align: center;
    }
    .hero h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
    }
    .hero p {
      font-size: 1.1rem;
      color: var(--gray);
      margin-bottom: 30px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    .hero-features {
      display: flex;
      justify-content: center;
      gap: 25px;
      flex-wrap: wrap;
      margin: 30px 0;
    }
    .feature-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      max-width: 160px;
    }
    .feature-item i {
      font-size: 1.8rem;
      color: var(--primary);
      margin-bottom: 10px;
    }
    .hero-buttons {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    
    /* Sections */
    section {
      padding: 80px 0;
    }
    h2 {
      text-align: center;
      font-size: 2.2rem;
      margin-bottom: 20px;
    }
    .section-subtitle {
      text-align: center;
      color: var(--gray);
      margin-bottom: 50px;
      font-size: 1.1rem;
    }
    
    /* Services */
    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }
    
    /* АНИМАЦИЯ ДЛЯ КАРТОЧЕК */
    .service-card {
      background: var(--white);
      padding: 30px;
      border-radius: 12px;
      box-shadow: var(--shadow);
      text-align: center;
      transition: all 0.4s ease;
      transform: translateY(0);
      position: relative;
      overflow: hidden;
    }
    
    .service-card:hover {
      transform: translateY(-10px);
      box-shadow: var(--shadow-hover);
      background: linear-gradient(135deg, #f8fbff 0%, #ffffff 100%);
    }
    
    .service-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: var(--primary);
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }
    
    .service-card:hover::before {
      transform: scaleX(1);
    }
    
    .service-icon {
      width: 70px;
      height: 70px;
      background: rgba(26, 115, 232, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
      color: var(--primary);
      font-size: 2rem;
      transition: all 0.3s;
    }
    
    .service-card:hover .service-icon {
      background: var(--primary);
      color: white;
      transform: scale(1.1);
    }
    
    /* Stats Section - КАРТОЧКИ ДЛЯ ЦИФР */
    .stats-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 30px;
      margin: 40px 0;
    }
    
    .stat-card {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: var(--shadow);
      text-align: center;
      transition: all 0.4s ease;
      border: 1px solid rgba(26, 115, 232, 0.1);
    }
    
    .stat-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-hover);
      border-color: var(--primary);
    }
    
    .stat-card .stat-number {
      font-size: 2.8rem;
      font-weight: 900;
      color: var(--primary);
      display: block;
      margin-bottom: 10px;
      line-height: 1;
    }
    
    .stat-card .stat-text {
      font-size: 1.1rem;
      color: var(--dark);
      line-height: 1.4;
      margin-top: 5px;
    }
    
    /* Portfolio */
    .portfolio-filters {
      text-align: center;
      margin-bottom: 30px;
    }
    .filter-btn {
      background: white;
      border: 2px solid var(--light-gray);
      padding: 8px 16px;
      margin: 0 5px;
      border-radius: 30px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .filter-btn.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    .portfolio-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
    }
    .portfolio-item img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }
    
    /* Masters Carousel */
    .masters-section {
      position: relative;
      overflow: hidden;
    }
    
    .masters-carousel-container {
      position: relative;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 40px;
    }
    
    .masters-carousel {
      display: flex;
      gap: 30px;
      overflow-x: auto;
      scroll-behavior: smooth;
      scrollbar-width: none;
      padding: 20px 10px 40px;
      margin-bottom: 20px;
    }
    
    .masters-carousel::-webkit-scrollbar {
      display: none;
    }
    
    .master-card {
      flex: 0 0 calc(33.333% - 20px);
      min-width: 280px;
      background: var(--white);
      border-radius: 12px;
      padding: 25px;
      text-align: center;
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .master-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-hover);
    }
    
    .master-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .master-card:hover::before {
      opacity: 1;
    }
    
    .master-avatar {
      position: relative;
      margin-bottom: 15px;
    }
    
    .master-avatar img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 15px;
      border: 3px solid var(--primary);
      transition: transform 0.3s;
    }
    
    .master-card:hover .master-avatar img {
      transform: scale(1.05);
    }
    
    .master-rating {
      color: #ffc107;
      margin: 10px 0;
      font-size: 1.2rem;
    }
    
    .master-review {
      font-style: italic;
      color: var(--gray);
      font-size: 0.9rem;
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px dashed var(--light-gray);
      max-height: 80px;
      overflow-y: auto;
    }
    
    .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: white;
      border: none;
      box-shadow: var(--shadow);
      font-size: 1.5rem;
      color: var(--primary);
      cursor: pointer;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
    }
    
    .carousel-btn:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-50%) scale(1.1);
    }
    
    .carousel-btn.prev {
      left: 0;
    }
    
    .carousel-btn.next {
      right: 0;
    }
    
    .carousel-dots {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }
    
    .dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--light-gray);
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .dot.active {
      background: var(--primary);
      transform: scale(1.2);
    }
    
    /* Modal */
    .modal-backdrop {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }
    .modal-backdrop.active {
      display: flex;
    }
    .modal-content {
      background: white;
      padding: 30px;
      border-radius: 12px;
      max-width: 600px;
      width: 90%;
      position: relative;
      animation: modalSlide 0.3s ease;
    }
    
    @keyframes modalSlide {
      from {
        opacity: 0;
        transform: translateY(-50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .close-btn {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 1.8rem;
      cursor: pointer;
      color: var(--gray);
      transition: color 0.3s;
    }
    
    .close-btn:hover {
      color: var(--primary);
    }
    
    /* Footer */
    .footer {
      background: var(--dark);
      color: white;
      padding: 50px 0 20px;
    }
    
    .footer .container {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 30px;
    }
    
    /* ВАШ ЛОГОТИП В ФУТЕРЕ */
    .footer-logo-custom {
      font-family: 'Montserrat', sans-serif;
      font-weight: 900;
      font-size: 1.6rem;
      color: white;
      line-height: 1.2;
      display: flex;
      flex-direction: column;
      margin-bottom: 15px;
    }
    
    .footer-logo-custom .logo-top {
      font-size: 2rem;
      line-height: 1;
      color: white;
    }
    
    .footer-logo-custom .logo-bottom {
      font-size: 1.8rem;
      color: var(--light-gray);
      line-height: 1;
    }
    
    .footer-logo-custom span {
      font-size: 0.9rem;
      color: #aaa;
      margin-top: 10px;
      font-weight: normal;
      font-family: 'Segoe UI', sans-serif;
    }
    
    .footer-links a,
    .footer-social a {
      color: white;
      text-decoration: none;
      display: block;
      margin-bottom: 8px;
      transition: color 0.3s;
    }
    
    .footer-links a:hover {
      color: var(--primary);
    }
    
    .footer-social {
      display: flex;
      gap: 15px;
      font-size: 1.5rem;
    }
    
    .footer-social a {
      transition: all 0.3s;
    }
    
    .footer-social a:hover {
      color: var(--primary);
      transform: translateY(-3px);
    }
    
    .footer-bottom {
      text-align: center;
      padding: 20px;
      border-top: 1px solid rgba(255,255,255,0.1);
      margin-top: 30px;
    }
    
    /* Responsive */
    @media (max-width: 992px) {
      .nav-menu ul {
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
      }
      .master-card {
        flex: 0 0 calc(50% - 15px);
        min-width: 250px;
      }
    }
    
    @media (max-width: 768px) {
      .header .container {
        flex-wrap: wrap;
      }
      .hero h1 {
        font-size: 2rem;
      }
      .hero-buttons {
        flex-direction: column;
        align-items: center;
      }
      .masters-carousel {
        padding: 20px 5px;
      }
      .master-card {
        flex: 0 0 calc(100% - 10px);
        min-width: 280px;
      }
      .carousel-btn {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
      }
      .stats-cards {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      .footer .container {
        grid-template-columns: 1fr;
        text-align: center;
      }
      .footer-logo-custom {
        align-items: center;
      }
    }
    
    @media (max-width: 480px) {
      .header-contact {
        flex-direction: column;
        gap: 10px;
      }
      .services-grid {
        grid-template-columns: 1fr;
      }
      .hero-features {
        gap: 15px;
      }
      .feature-item {
        max-width: 140px;
      }
    }
  </style>
</head>
<body>

<!-- ХЕДЕР -->
<header class="header">
  <div class="container">
    <div class="header-logo">
      <div class="logo-top">KLIMATE</div>
      <div class="logo-bottom">KOMFORT</div>
    </div>
    <nav class="nav-menu">
      <ul>
        <li><a href="#home">Главная</a></li>
        <li><a href="#services">Услуги</a></li>
        <li><a href="#about">О компании</a></li>
        <li><a href="#portfolio">Портфолио</a></li>
        <li><a href="#masters">Мастера</a></li>
        <li><a href="#contacts">Контакты</a></li>
      </ul>
    </nav>
    <div class="header-contact">
      <div class="phone"><i class="fas fa-phone"></i> <a href="tel:+79227448867">+7 (922) 744-88-67</a></div>
      <button class="btn btn-primary" onclick="openModal('callback')">Заказать звонок</button>
    </div>
  </div>
</header>

<!-- HERO SECTION -->
<section id="home" class="hero">
  <div class="container">
    <div class="hero-content">
      <h1>Тепло зимой, прохладно летом в вашем доме и офисе</h1>
      <p>Профессиональный монтаж и обслуживание систем отопления, кондиционирования и вентиляции в Москве и области</p>
      <div class="hero-features">
        <div class="feature-item"><i class="fas fa-car-alt"></i><span>Бесплатный выезд и замер</span></div>
        <div class="feature-item"><i class="fas fa-shield-alt"></i><span>Гарантия до 3-х лет</span></div>
        <div class="feature-item"><i class="fas fa-users"></i><span>Опытные инженеры</span></div>
        <div class="feature-item"><i class="fas fa-broom"></i><span>Чистый монтаж</span></div>
      </div>
      <div class="hero-buttons">
        <button class="btn btn-primary" onclick="openModal('calculate')">Рассчитать стоимость</button>
        <button class="btn btn-secondary" onclick="openModal('master')">Вызвать мастера</button>
      </div>
    </div>
  </div>
</section>

<!-- SERVICES SECTION -->
<section id="services" class="services">
  <div class="container">
    <h2>Наши услуги</h2>
    <p class="section-subtitle">Полный комплекс услуг для создания идеального климата</p>
    <div class="services-grid">
      <div class="service-card">
        <div class="service-icon"><i class="fas fa-fire"></i></div>
        <h3>Отопление</h3>
        <p>Газовые котлы, радиаторы, теплые полы — надежное тепло даже в сильные морозы.</p>
        <button class="btn btn-outline" onclick="showServiceModal('Отопление', 'Монтаж газовых, электрических и твердотопливных котлов. Установка радиаторов и систем теплый пол. Проектирование котельных под ключ.')">Подробнее</button>
      </div>
      <div class="service-card">
        <div class="service-icon"><i class="fas fa-snowflake"></i></div>
        <h3>Кондиционирование</h3>
        <p>Тишина, комфорт и чистый воздух — подберем и установим систему под ваш бюджет.</p>
        <button class="btn btn-outline" onclick="showServiceModal('Кондиционирование', 'Установка сплит-систем, мульти-сплит, канальных, кассетных и VRV/VRF-систем. Продажа и монтаж от ведущих брендов: Daikin, Mitsubishi, Ballu.')">Подробнее</button>
      </div>
      <div class="service-card">
        <div class="service-icon"><i class="fas fa-wind"></i></div>
        <h3>Вентиляция</h3>
        <p>Свежий воздух 24/7 — с рекуперацией, фильтрацией и автоматикой.</p>
        <button class="btn btn-outline" onclick="showServiceModal('Вентиляция', 'Монтаж приточной, вытяжной и приточно-вытяжной вентиляции. Установка бризеров и рекуператоров от Tion, Vakio и других производителей.')">Подробнее</button>
      </div>
    </div>
  </div>
</section>

<!-- ABOUT SECTION С КАРТОЧКАМИ -->
<section id="about" class="about">
  <div class="container">
    <h2>Почему выбирают нас</h2>
    
    <!-- НОВЫЕ КАРТОЧКИ ДЛЯ ЦИФР -->
    <div class="stats-cards">
      <div class="stat-card">
        <span class="stat-number">10+</span>
        <span class="stat-text">лет на рынке</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">1500+</span>
        <span class="stat-text">проектов</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">36</span>
        <span class="stat-text">мес. гарантии</span>
      </div>
    </div>
    
    <div class="about-text" style="max-width: 800px; margin: 40px auto; text-align: center;">
      <p style="font-size: 1.2rem; margin-bottom: 20px;">Мы делаем один простой продукт — <strong style="color: var(--primary);">комфорт</strong>. Без скрытых платежей, с фиксированной ценой и уборкой после себя.</p>
      <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-top: 30px;">
        <div style="display: flex; align-items: center; gap: 10px;">
          <i class="fas fa-check" style="color: var(--primary);"></i>
          <span>Официальный договор</span>
        </div>
        <div style="display: flex; align-items: center; gap: 10px;">
          <i class="fas fa-check" style="color: var(--primary);"></i>
          <span>Расчёт стоимости до начала работ</span>
        </div>
        <div style="display: flex; align-items: center; gap: 10px;">
          <i class="fas fa-check" style="color: var(--primary);"></i>
          <span>Только проверенные бренды</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- PORTFOLIO SECTION -->
<section id="portfolio" class="portfolio">
  <div class="container">
    <h2>Наши работы</h2>
    <p class="section-subtitle">Реальные объекты, сданные "под ключ"</p>
    <div class="portfolio-filters">
      <button class="filter-btn active" data-filter="all">Все</button>
      <button class="filter-btn" data-filter="apartment">Квартиры</button>
      <button class="filter-btn" data-filter="house">Дома</button>
      <button class="filter-btn" data-filter="office">Офисы</button>
    </div>
    <div class="portfolio-grid">
      <div class="portfolio-item" data-category="apartment">
        <img src="https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=500&auto=format&fit=crop" alt="Квартира">
        <h3>Квартира, 65 м²</h3>
        <p>Установка системы кондиционирования в новостройке</p>
        <button class="btn btn-outline" onclick="showPortfolioModal('Квартира, 65 м²', 'Полный монтаж системы кондиционирования с установкой 3 сплит-систем. Работы выполнены за 2 дня с чистой уборкой.')">Подробнее</button>
      </div>
      <div class="portfolio-item" data-category="house">
        <img src="https://images.unsplash.com/photo-1518780664697-55e3ad937233?w=500&auto=format&fit=crop" alt="Дом">
        <h3>Коттедж, 180 м²</h3>
        <p>Отопление и вентиляция частного дома</p>
        <button class="btn btn-outline" onclick="showPortfolioModal('Коттедж, 180 м²', 'Проектирование и монтаж системы отопления на газовом котле, теплые полы, приточно-вытяжная вентиляция с рекуперацией.')">Подробнее</button>
      </div>
      <div class="portfolio-item" data-category="office">
        <img src="https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=500&auto=format&fit=crop" alt="Офис">
        <h3>Офис, 120 м²</h3>
        <p>Климатическая система для офисного центра</p>
        <button class="btn btn-outline" onclick="showPortfolioModal('Офис, 120 м²', 'Установка канальной системы кондиционирования и вентиляции для open-space офиса. Интеграция с системой умного дома.')">Подробнее</button>
      </div>
    </div>
  </div>
</section>

<!-- MASTERS SECTION С КАРУСЕЛЬЮ -->
<section id="masters" class="masters-section">
  <div class="container">
    <h2>Наши мастера</h2>
    <p class="section-subtitle">Специалисты с опытом от 5 лет</p>
    
    <div class="masters-carousel-container">
      <button class="carousel-btn prev" onclick="scrollMasters(-1)">‹</button>
      
      <div class="masters-carousel" id="mastersCarousel">
        <!-- Мастер 1 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&auto=format&fit=crop" alt="Алексей Смирнов">
          </div>
          <h3>Алексей Смирнов</h3>
          <p><strong>Специализация:</strong> Отопление</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
            <span style="margin-left: 5px; color: var(--gray);">4.8</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79001112233" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 111-22-33</a>
          </p>
          <p class="master-review">"Работал с нами 8 лет. Выполнил более 300 проектов по отоплению. Аккуратный и ответственный специалист."</p>
        </div>
        
        <!-- Мастер 2 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&auto=format&fit=crop" alt="Дмитрий Иванов">
          </div>
          <h3>Дмитрий Иванов</h3>
          <p><strong>Специализация:</strong> Кондиционирование</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
            <span style="margin-left: 5px; color: var(--gray);">5.0</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79002223344" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 222-33-44</a>
          </p>
          <p class="master-review">"Сертифицированный специалист по системам Daikin и Mitsubishi. Всегда находит оптимальное решение для клиента."</p>
        </div>
        
        <!-- Мастер 3 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400&auto=format&fit=crop" alt="Михаил Петров">
          </div>
          <h3>Михаил Петров</h3>
          <p><strong>Специализация:</strong> Вентиляция</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
            <span style="margin-left: 5px; color: var(--gray);">5.0</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79003334455" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 333-44-55</a>
          </p>
          <p class="master-review">"Инженер с 10-летним опытом. Специализируется на сложных системах вентиляции для коммерческих объектов."</p>
        </div>
        
        <!-- Мастер 4 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=400&auto=format&fit=crop" alt="Сергей Козлов">
          </div>
          <h3>Сергей Козлов</h3>
          <p><strong>Специализация:</strong> Теплые полы</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
            <span style="margin-left: 5px; color: var(--gray);">5.0</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79004445566" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 444-55-66</a>
          </p>
          <p class="master-review">"Эксперт по системам теплый пол. Установил более 500 систем в квартирах и коттеджах."</p>
        </div>
        
        <!-- Мастер 5 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=400&auto=format&fit=crop" alt="Андрей Волков">
          </div>
          <h3>Андрей Волков</h3>
          <p><strong>Специализация:</strong> Котельные</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
            <span style="margin-left: 5px; color: var(--gray);">4.9</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79005556677" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 555-66-77</a>
          </p>
          <p class="master-review">"Проектирует и монтирует котельные любой сложности. Всегда предлагает экономичные решения."</p>
        </div>
        
        <!-- Мастер 6 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400&auto=format&fit=crop" alt="Павел Морозов">
          </div>
          <h3>Павел Морозов</h3>
          <p><strong>Специализация:</strong> Мульти-сплит системы</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
            <span style="margin-left: 5px; color: var(--gray);">5.0</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79006667788" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 666-77-88</a>
          </p>
          <p class="master-review">"Специалист по сложным мульти-сплит системам. Работает с VRV/VRF системами для больших объектов."</p>
        </div>
        
        <!-- Мастер 7 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=400&auto=format&fit=crop" alt="Игорь Зайцев">
          </div>
          <h3>Игорь Зайцев</h3>
          <p><strong>Специализация:</strong> Обслуживание</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
            <span style="margin-left: 5px; color: var(--gray);">5.0</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79007778899" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 777-88-99</a>
          </p>
          <p class="master-review">"Занимается обслуживанием и ремонтом климатической техники. Быстро диагностирует и устраняет неисправности."</p>
        </div>
        
        <!-- Мастер 8 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1544725176-7c40e5a71c5e?w=400&auto=format&fit=crop" alt="Виктор Соколов">
          </div>
          <h3>Виктор Соколов</h3>
          <p><strong>Специализация:</strong> Бризеры и рекуператоры</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
            <span style="margin-left: 5px; color: var(--gray);">4.7</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79008889900" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 888-99-00</a>
          </p>
          <p class="master-review">"Эксперт по компактным системам вентиляции. Установил более 200 бризеров в квартирах Москвы."</p>
        </div>
        
        <!-- Мастер 9 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&auto=format&fit=crop" alt="Николай Лебедев">
          </div>
          <h3>Николай Лебедев</h3>
          <p><strong>Специализация:</strong> Автоматика</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
            <span style="margin-left: 5px; color: var(--gray);">5.0</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79009990011" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 999-00-11</a>
          </p>
          <p class="master-review">"Настраивает системы умного дома для управления климатом. Интегрирует оборудование разных производителей."</p>
        </div>
        
        <!-- Мастер 10 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&auto=format&fit=crop" alt="Екатерина Орлова">
          </div>
          <h3>Екатерина Орлова</h3>
          <p><strong>Специализация:</strong> Дизайн-проекты</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
            <span style="margin-left: 5px; color: var(--gray);">5.0</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79001112200" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 111-22-00</a>
          </p>
          <p class="master-review">"Разрабатывает дизайн-проекты, где техника гармонично вписывается в интерьер. Внимательна к деталям."</p>
        </div>
        
        <!-- Мастер 11 -->
        <div class="master-card">
          <div class="master-avatar">
            <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&auto=format&fit=crop" alt="Анна Ковалева">
          </div>
          <h3>Анна Ковалева</h3>
          <p><strong>Специализация:</strong> Проектирование</p>
          <div class="master-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
            <span style="margin-left: 5px; color: var(--gray);">4.8</span>
          </div>
          <p class="master-phone">
            <a href="tel:+79002220033" class="phone-link"><i class="fas fa-phone"></i> +7 (900) 222-00-33</a>
          </p>
          <p class="master-review">"Инженер-проектировщик. Создает точные расчеты и чертежи для сложных климатических систем."</p>
        </div>
      </div>
      
      <button class="carousel-btn next" onclick="scrollMasters(1)">›</button>
    </div>
    
    <div class="carousel-dots" id="carouselDots">
      <!-- Точки будут добавлены через JavaScript -->
    </div>
  </div>
</section>

<!-- ДОБАВИТЬ ПОСЛЕ СЕКЦИИ МАСТЕРОВ (после закрывающего тега </section> секции masters) -->

<!-- СИСТЕМА ОТЗЫВОВ -->
<section id="reviews" class="reviews-section" style="padding: 80px 0; background: #f8f9fa;">
    <div class="container">
      <h2>Отзывы о мастерах</h2>
      <p class="section-subtitle">Поделитесь своим опытом или посмотрите отзывы других клиентов</p>
      
      <!-- Блок для написания отзыва -->
      <div class="review-write-card" style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin-bottom: 40px;">
        <h3 style="margin-bottom: 20px;">Оставить отзыв о мастере</h3>
        <form id="reviewForm">
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
              <label style="display: block; margin-bottom: 8px; font-weight: 600;">Выберите мастера</label>
              <select id="masterSelect" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px;">
                <option value="">-- Выберите мастера --</option>
                <option value="1">Алексей Смирнов (Отопление)</option>
                <option value="2">Дмитрий Иванов (Кондиционирование)</option>
                <option value="3">Михаил Петров (Вентиляция)</option>
                <option value="4">Сергей Козлов (Теплые полы)</option>
                <option value="5">Андрей Волков (Котельные)</option>
                <option value="6">Павел Морозов (Мульти-сплит системы)</option>
                <option value="7">Игорь Зайцев (Обслуживание)</option>
                <option value="8">Виктор Соколов (Бризеры и рекуператоры)</option>
                <option value="9">Николай Лебедев (Автоматика)</option>
                <option value="10">Екатерина Орлова (Дизайн-проекты)</option>
                <option value="11">Анна Ковалева (Проектирование)</option>
              </select>
            </div>
            
            <div>
              <label style="display: block; margin-bottom: 8px; font-weight: 600;">Ваша оценка</label>
              <div class="rating-input" style="display: flex; gap: 5px;">
                <i class="fas fa-star rating-star" data-value="1" style="font-size: 28px; color: #ddd; cursor: pointer; transition: color 0.2s;"></i>
                <i class="fas fa-star rating-star" data-value="2" style="font-size: 28px; color: #ddd; cursor: pointer; transition: color 0.2s;"></i>
                <i class="fas fa-star rating-star" data-value="3" style="font-size: 28px; color: #ddd; cursor: pointer; transition: color 0.2s;"></i>
                <i class="fas fa-star rating-star" data-value="4" style="font-size: 28px; color: #ddd; cursor: pointer; transition: color 0.2s;"></i>
                <i class="fas fa-star rating-star" data-value="5" style="font-size: 28px; color: #ddd; cursor: pointer; transition: color 0.2s;"></i>
                <input type="hidden" id="ratingValue" value="5" required>
                <span id="ratingText" style="margin-left: 15px; font-weight: 600; color: #333;">5.0 (Отлично)</span>
              </div>
            </div>
          </div>
          
          <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Ваше имя</label>
            <input type="text" id="reviewerName" required 
                   style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px;" 
                   placeholder="Как к вам обращаться?">
          </div>
          
          <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Ваш отзыв</label>
            <textarea id="reviewText" required 
                      style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; height: 120px;" 
                      placeholder="Опишите ваш опыт работы с мастером..."></textarea>
          </div>
          
          <button type="submit" class="btn btn-primary" style="padding: 12px 30px;">Отправить отзыв</button>
        </form>
      </div>
      
      <!-- Блок просмотра отзывов -->
      <div class="reviews-list">
        <h3 style="margin-bottom: 20px;">Все отзывы</h3>
        
        <!-- Фильтры -->
        <div style="display: flex; gap: 15px; margin-bottom: 25px; flex-wrap: wrap;">
          <select id="filterMaster" style="padding: 10px 15px; border: 1px solid #ddd; border-radius: 6px;">
            <option value="all">Все мастера</option>
            <option value="1">Алексей Смирнов</option>
            <option value="2">Дмитрий Иванов</option>
            <option value="3">Михаил Петров</option>
            <option value="4">Сергей Козлов</option>
            <option value="5">Андрей Волков</option>
            <option value="6">Павел Морозов</option>
            <option value="7">Игорь Зайцев</option>
            <option value="8">Виктор Соколов</option>
            <option value="9">Николай Лебедев</option>
            <option value="10">Екатерина Орлова</option>
            <option value="11">Анна Ковалева</option>
          </select>
          
          <select id="filterRating" style="padding: 10px 15px; border: 1px solid #ddd; border-radius: 6px;">
            <option value="all">Любая оценка</option>
            <option value="5">5 звёзд</option>
            <option value="4">4 звезды и выше</option>
            <option value="3">3 звезды и выше</option>
            <option value="2">2 звезды и выше</option>
            <option value="1">1 звезда</option>
          </select>
          
          <select id="sortReviews" style="padding: 10px 15px; border: 1px solid #ddd; border-radius: 6px;">
            <option value="newest">Сначала новые</option>
            <option value="highest">Сначала с высокой оценкой</option>
            <option value="lowest">Сначала с низкой оценкой</option>
          </select>
        </div>
        
        <!-- Контейнер для отзывов -->
        <div id="reviewsContainer" style="display: flex; flex-direction: column; gap: 20px;">
          <!-- Отзывы будут добавляться сюда -->
          <div class="no-reviews" style="text-align: center; padding: 40px; color: #666; background: white; border-radius: 12px;">
            <i class="fas fa-comments" style="font-size: 48px; color: #ddd; margin-bottom: 15px;"></i>
            <p>Пока нет отзывов. Будьте первым, кто оставит отзыв!</p>
          </div>
        </div>
        
        <!-- Пагинация -->
        <div id="pagination" style="display: flex; justify-content: center; gap: 10px; margin-top: 30px; display: none;">
          <!-- Кнопки пагинации будут добавляться сюда -->
        </div>
      </div>
    </div>
  </section>
  
  <!-- ДОБАВИТЬ ЭТИ СТИЛИ В ТЕГ <style> (в конце, перед закрывающим тегом </style>) -->
  
  <style>
    /* Стили для системы отзывов */
    .review-card {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.05);
      border-left: 4px solid #1a73e8;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .review-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .review-card.low-rating {
      border-left-color: #ff6b35;
    }
    
    .review-card.high-rating {
      border-left-color: #4CAF50;
    }
    
    .review-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }
    
    .review-master {
      font-weight: 600;
      color: #1a73e8;
      margin-bottom: 5px;
    }
    
    .reviewer-name {
      font-weight: 600;
      color: #333;
    }
    
    .review-date {
      color: #888;
      font-size: 0.9rem;
    }
    
    .review-rating {
      color: #ffc107;
      font-size: 1.1rem;
    }
    
    .review-text {
      color: #555;
      line-height: 1.6;
    }
    
    .review-stats {
      display: flex;
      gap: 20px;
      margin-top: 10px;
      font-size: 0.9rem;
      color: #666;
    }
    
    .rating-star:hover,
    .rating-star.active {
      color: #ffc107 !important;
    }
    
    .pagination-btn {
      padding: 8px 15px;
      border: 1px solid #ddd;
      background: white;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .pagination-btn:hover {
      background: #f0f0f0;
    }
    
    .pagination-btn.active {
      background: #1a73e8;
      color: white;
      border-color: #1a73e8;
    }
  </style>
  
  <!-- ДОБАВИТЬ ЭТОТ СКРИПТ В КОНЕЦ (перед закрывающим тегом </body>) -->
  
  <script>
  // ===== СИСТЕМА ОТЗЫВОВ =====
  
  // Хранилище отзывов (в реальном проекте это было бы на бэкенде)
  let allReviews = [
    {
      id: 1,
      masterId: 1,
      masterName: "Алексей Смирнов",
      reviewerName: "Иван Петров",
      rating: 5,
      text: "Отличный специалист! Установил котел за один день, все аккуратно, объяснил как пользоваться. Рекомендую!",
      date: "2024-01-15",
      timestamp: 1705276800000
    },
    {
      id: 2,
      masterId: 2,
      masterName: "Дмитрий Иванов",
      reviewerName: "Мария Сидорова",
      rating: 5,
      text: "Очень довольна работой. Установил кондиционер быстро, чисто, без лишнего шума. Спасибо!",
      date: "2024-01-18",
      timestamp: 1705536000000
    },
    {
      id: 3,
      masterId: 1,
      masterName: "Алексей Смирнов",
      reviewerName: "Олег Николаев",
      rating: 4,
      text: "Хороший мастер, но немного задержался с выездом. Работу выполнил качественно.",
      date: "2024-01-20",
      timestamp: 1705708800000
    },
    {
      id: 4,
      masterId: 3,
      masterName: "Михаил Петров",
      reviewerName: "Анна Коваль",
      rating: 5,
      text: "Профессионал своего дела! Сделал вентиляцию в кафе - теперь воздух свежий, клиенты довольны.",
      date: "2024-01-22",
      timestamp: 1705881600000
    }
  ];
  
  // Инициализация системы отзывов
  document.addEventListener('DOMContentLoaded', function() {
    initReviewSystem();
  });
  
  function initReviewSystem() {
    // 1. Инициализация звёзд для оценки
    initRatingStars();
    
    // 2. Загрузка существующих отзывов
    displayReviews();
    
    // 3. Обработка формы отправки отзыва
    document.getElementById('reviewForm').addEventListener('submit', function(e) {
      e.preventDefault();
      submitReview();
    });
    
    // 4. Обработка фильтров
    document.getElementById('filterMaster').addEventListener('change', displayReviews);
    document.getElementById('filterRating').addEventListener('change', displayReviews);
    document.getElementById('sortReviews').addEventListener('change', displayReviews);
  }
  
  // Инициализация звёзд рейтинга
  function initRatingStars() {
    const stars = document.querySelectorAll('.rating-star');
    const ratingValue = document.getElementById('ratingValue');
    const ratingText = document.getElementById('ratingText');
    
    const ratingTexts = {
      1: "1.0 (Ужасно)",
      2: "2.0 (Плохо)",
      3: "3.0 (Нормально)",
      4: "4.0 (Хорошо)",
      5: "5.0 (Отлично)"
    };
    
    stars.forEach(star => {
      star.addEventListener('mouseover', function() {
        const value = parseInt(this.dataset.value);
        
        // Подсвечиваем звёзды
        stars.forEach((s, index) => {
          if (index < value) {
            s.classList.add('hover');
            s.style.color = '#ffc107';
          } else {
            s.classList.remove('hover');
            s.style.color = '#ddd';
          }
        });
        
        ratingText.textContent = ratingTexts[value];
      });
      
      star.addEventListener('mouseleave', function() {
        const currentValue = parseInt(ratingValue.value);
        
        stars.forEach((s, index) => {
          if (index < currentValue) {
            s.style.color = '#ffc107';
          } else {
            s.style.color = '#ddd';
          }
        });
        
        ratingText.textContent = ratingTexts[currentValue];
      });
      
      star.addEventListener('click', function() {
        const value = parseInt(this.dataset.value);
        ratingValue.value = value;
        
        // Устанавливаем активные звёзды
        stars.forEach((s, index) => {
          if (index < value) {
            s.style.color = '#ffc107';
            s.classList.add('active');
          } else {
            s.style.color = '#ddd';
            s.classList.remove('active');
          }
        });
        
        ratingText.textContent = ratingTexts[value];
      });
    });
    
    // Устанавливаем начальное значение (5 звёзд)
    stars.forEach((star, index) => {
      if (index < 5) {
        star.style.color = '#ffc107';
        star.classList.add('active');
      }
    });
  }
  
  // Отправка отзыва
  function submitReview() {
    const masterSelect = document.getElementById('masterSelect');
    const ratingValue = document.getElementById('ratingValue');
    const reviewerName = document.getElementById('reviewerName');
    const reviewText = document.getElementById('reviewText');
    
    if (!masterSelect.value) {
      alert('Пожалуйста, выберите мастера');
      return;
    }
    
    if (!reviewerName.value.trim()) {
      alert('Пожалуйста, введите ваше имя');
      return;
    }
    
    if (!reviewText.value.trim()) {
      alert('Пожалуйста, напишите отзыв');
      return;
    }
    
    // Находим имя мастера
    const masterOption = masterSelect.options[masterSelect.selectedIndex];
    const masterName = masterOption.text.split(' (')[0];
    
    // Создаем новый отзыв
    const newReview = {
      id: allReviews.length + 1,
      masterId: parseInt(masterSelect.value),
      masterName: masterName,
      reviewerName: reviewerName.value.trim(),
      rating: parseInt(ratingValue.value),
      text: reviewText.textContent.trim(),
      date: new Date().toISOString().split('T')[0],
      timestamp: Date.now()
    };
    
    // Добавляем в хранилище
    allReviews.unshift(newReview); // Добавляем в начало
    
    // Обновляем рейтинг мастера в карточке
    updateMasterRating(newReview.masterId);
    
    // Показываем уведомление
    alert('Спасибо за ваш отзыв! Он был успешно добавлен.');
    
    // Очищаем форму
    reviewerName.value = '';
    reviewText.value = '';
    
    // Возвращаем рейтинг к 5 звёздам
    document.getElementById('ratingValue').value = '5';
    document.querySelectorAll('.rating-star').forEach((star, index) => {
      if (index < 5) {
        star.style.color = '#ffc107';
      } else {
        star.style.color = '#ddd';
      }
    });
    document.getElementById('ratingText').textContent = '5.0 (Отлично)';
    
    // Обновляем список отзывов
    displayReviews();
  }
  
  // Обновление рейтинга мастера в карточке
  function updateMasterRating(masterId) {
    // Находим все отзывы для этого мастера
    const masterReviews = allReviews.filter(review => review.masterId === masterId);
    
    if (masterReviews.length === 0) return;
    
    // Рассчитываем средний рейтинг
    const totalRating = masterReviews.reduce((sum, review) => sum + review.rating, 0);
    const averageRating = (totalRating / masterReviews.length).toFixed(1);
    
    // Обновляем рейтинг в карточке мастера (в карусели)
    // Находим карточку мастера по ID
    const masterCards = document.querySelectorAll('.master-card');
    const masterNames = [
      "Алексей Смирнов", "Дмитрий Иванов", "Михаил Петров", "Сергей Козлов",
      "Андрей Волков", "Павел Морозов", "Игорь Зайцев", "Виктор Соколов",
      "Николай Лебедев", "Екатерина Орлова", "Анна Ковалева"
    ];
    
    if (masterId <= masterNames.length) {
      const masterName = masterNames[masterId - 1];
      
      masterCards.forEach(card => {
        const cardName = card.querySelector('h3').textContent;
        if (cardName === masterName) {
          const ratingElement = card.querySelector('.master-rating');
          if (ratingElement) {
            // Обновляем звёзды
            const stars = ratingElement.querySelectorAll('.fa-star');
            const fullStars = Math.floor(averageRating);
            const hasHalfStar = averageRating % 1 >= 0.5;
            
            stars.forEach((star, index) => {
              if (index < fullStars) {
                star.className = 'fas fa-star';
              } else if (index === fullStars && hasHalfStar) {
                star.className = 'fas fa-star-half-alt';
              } else {
                star.className = 'far fa-star';
              }
            });
            
            // Обновляем текстовый рейтинг
            const ratingSpan = ratingElement.querySelector('span');
            if (ratingSpan) {
              ratingSpan.textContent = averageRating;
            }
          }
        }
      });
    }
  }
  
  // Отображение отзывов
  function displayReviews() {
    const container = document.getElementById('reviewsContainer');
    const filterMaster = document.getElementById('filterMaster').value;
    const filterRating = document.getElementById('filterRating').value;
    const sortBy = document.getElementById('sortReviews').value;
    
    // Фильтрация отзывов
    let filteredReviews = [...allReviews];
    
    // Фильтр по мастеру
    if (filterMaster !== 'all') {
      filteredReviews = filteredReviews.filter(review => review.masterId === parseInt(filterMaster));
    }
    
    // Фильтр по рейтингу
    if (filterRating !== 'all') {
      const minRating = parseInt(filterRating);
      filteredReviews = filteredReviews.filter(review => review.rating >= minRating);
    }
    
    // Сортировка
    switch(sortBy) {
      case 'newest':
        filteredReviews.sort((a, b) => b.timestamp - a.timestamp);
        break;
      case 'highest':
        filteredReviews.sort((a, b) => b.rating - a.rating || b.timestamp - a.timestamp);
        break;
      case 'lowest':
        filteredReviews.sort((a, b) => a.rating - b.rating || b.timestamp - a.timestamp);
        break;
    }
    
    // Очищаем контейнер
    container.innerHTML = '';
    
    if (filteredReviews.length === 0) {
      container.innerHTML = `
        <div class="no-reviews" style="text-align: center; padding: 40px; color: #666; background: white; border-radius: 12px;">
          <i class="fas fa-comments" style="font-size: 48px; color: #ddd; margin-bottom: 15px;"></i>
          <p>Отзывов по выбранным критериям не найдено</p>
        </div>
      `;
      document.getElementById('pagination').style.display = 'none';
      return;
    }
    
    // Отображаем отзывы (первые 5 для пагинации)
    const reviewsPerPage = 5;
    const totalPages = Math.ceil(filteredReviews.length / reviewsPerPage);
    const currentPage = 1;
    
    const startIndex = (currentPage - 1) * reviewsPerPage;
    const endIndex = startIndex + reviewsPerPage;
    const reviewsToShow = filteredReviews.slice(startIndex, endIndex);
    
    // Добавляем отзывы
    reviewsToShow.forEach(review => {
      const reviewElement = createReviewElement(review);
      container.appendChild(reviewElement);
    });
    
    // Настраиваем пагинацию
    setupPagination(filteredReviews, reviewsPerPage, currentPage);
  }
  
  // Создание элемента отзыва
  function createReviewElement(review) {
    const div = document.createElement('div');
    div.className = `review-card ${review.rating >= 4 ? 'high-rating' : 'low-rating'}`;
    
    // Создаем звёзды для рейтинга
    let starsHtml = '';
    for (let i = 1; i <= 5; i++) {
      if (i <= review.rating) {
        starsHtml += '<i class="fas fa-star"></i>';
      } else {
        starsHtml += '<i class="far fa-star"></i>';
      }
    }
    
    div.innerHTML = `
      <div class="review-header">
        <div>
          <div class="review-master">${review.masterName}</div>
          <div class="reviewer-name">${review.reviewerName}</div>
          <div class="review-date">${review.date}</div>
        </div>
        <div class="review-rating" title="${review.rating}.0 из 5.0">
          ${starsHtml}
          <span style="margin-left: 5px; font-weight: 600;">${review.rating}.0</span>
        </div>
      </div>
      <div class="review-text">
        ${review.text}
      </div>
      <div class="review-stats">
        <span>Мастер ID: ${review.masterId}</span>
      </div>
    `;
    
    return div;
  }
  
  // Настройка пагинации
  function setupPagination(reviews, reviewsPerPage, currentPage) {
    const paginationDiv = document.getElementById('pagination');
    const totalPages = Math.ceil(reviews.length / reviewsPerPage);
    
    if (totalPages <= 1) {
      paginationDiv.style.display = 'none';
      return;
    }
    
    paginationDiv.style.display = 'flex';
    paginationDiv.innerHTML = '';
    
    // Кнопка "Назад"
    const prevButton = document.createElement('button');
    prevButton.className = 'pagination-btn';
    prevButton.innerHTML = '<i class="fas fa-chevron-left"></i>';
    prevButton.disabled = currentPage === 1;
    prevButton.addEventListener('click', () => {
      changeReviewPage(currentPage - 1, reviews, reviewsPerPage);
    });
    paginationDiv.appendChild(prevButton);
    
    // Номера страниц
    for (let i = 1; i <= totalPages; i++) {
      const pageButton = document.createElement('button');
      pageButton.className = `pagination-btn ${i === currentPage ? 'active' : ''}`;
      pageButton.textContent = i;
      pageButton.addEventListener('click', () => {
        changeReviewPage(i, reviews, reviewsPerPage);
      });
      paginationDiv.appendChild(pageButton);
    }
    
    // Кнопка "Вперед"
    const nextButton = document.createElement('button');
    nextButton.className = 'pagination-btn';
    nextButton.innerHTML = '<i class="fas fa-chevron-right"></i>';
    nextButton.disabled = currentPage === totalPages;
    nextButton.addEventListener('click', () => {
      changeReviewPage(currentPage + 1, reviews, reviewsPerPage);
    });
    paginationDiv.appendChild(nextButton);
  }
  
  // Смена страницы с отзывами
  function changeReviewPage(pageNumber, reviews, reviewsPerPage) {
    const container = document.getElementById('reviewsContainer');
    container.innerHTML = '';
    
    const startIndex = (pageNumber - 1) * reviewsPerPage;
    const endIndex = startIndex + reviewsPerPage;
    const reviewsToShow = reviews.slice(startIndex, endIndex);
    
    reviewsToShow.forEach(review => {
      const reviewElement = createReviewElement(review);
      container.appendChild(reviewElement);
    });
    
    setupPagination(reviews, reviewsPerPage, pageNumber);
  }
  </script>

<!-- CONTACTS SECTION -->
<section id="contacts" class="contacts">
  <div class="container">
    <h2>Свяжитесь с нами</h2>
    <p class="section-subtitle">Готовы создать идеальный климат в вашем доме?</p>
    <div class="contacts-grid" style="display:grid;grid-template-columns:1fr 1fr;gap:50px;">
      <div class="contacts-info">
        <p style="margin-bottom: 15px;"><i class="fas fa-map-marker-alt"></i> г. Москва, ул. Примерная, д. 10</p>
        <p style="margin-bottom: 15px;"><i class="fas fa-phone"></i> <a href="tel:+79227448867" class="contact-phone">+7 (922) 744-88-67</a></p>
        <p style="margin-bottom: 15px;"><i class="fas fa-envelope"></i> info@klimate-komfort.ru</p>
        <p style="margin-bottom: 15px;"><i class="fas fa-clock"></i> Пн–Сб: 8:00–20:00</p>
        <div style="margin-top: 30px; padding: 20px; background: rgba(26, 115, 232, 0.05); border-radius: 8px;">
          <p><strong>Бесплатный выезд мастера</strong></p>
          <p style="font-size: 0.9rem; margin-top: 5px;">В течение 2-х часов в Москве</p>
        </div>
      </div>
      <form id="contactForm" class="contact-form" style="display:flex;flex-direction:column;gap:15px;">
        <input type="text" placeholder="Ваше имя" required style="padding:12px;border:1px solid var(--light-gray);border-radius:6px;">
        <input type="tel" placeholder="Телефон" required style="padding:12px;border:1px solid var(--light-gray);border-radius:6px;">
        <select required style="padding:12px;border:1px solid var(--light-gray);border-radius:6px;">
          <option value="">Выберите услугу</option>
          <option>Отопление</option>
          <option>Кондиционирование</option>
          <option>Вентиляция</option>
          <option>Обслуживание</option>
          <option>Консультация</option>
        </select>
        <textarea placeholder="Сообщение" style="padding:12px;border:1px solid var(--light-gray);border-radius:6px;height:120px;"></textarea>
        <button type="submit" class="btn btn-primary">Отправить заявку</button>
      </form>
    </div>
  </div>
</section>

<!-- МОДАЛЬНЫЕ ОКНА -->
<div id="modalBackdrop" class="modal-backdrop" onclick="closeModal()">
  <div class="modal-content" onclick="event.stopPropagation()">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <div id="modalBody"></div>
  </div>
</div>

<!-- ФУТЕР С ВАШИМ ЛОГОТИПОМ -->
<footer class="footer">
  <div class="container">
    <div>
      <!-- ВАШ ЛОГОТИП -->
      <div class="footer-logo-custom">
        <div class="logo-top">KLIMATE</div>
        <div class="logo-bottom">KOMFORT</div>
        <span>Создаём комфорт с 2015 года</span>
      </div>
      
      <p style="color: #aaa; margin-top: 15px; max-width: 300px;">
        Профессиональный монтаж и обслуживание систем отопления, кондиционирования и вентиляции
      </p>
    </div>
    
    <div class="footer-links">
      <a href="#home">Главная</a>
      <a href="#services">Услуги</a>
      <a href="#about">О нас</a>
      <a href="#portfolio">Портфолио</a>
      <a href="#masters">Мастера</a>
      <a href="#contacts">Контакты</a>
    </div>
    
    <div>
      <p style="margin-bottom: 15px;"><strong>Контакты</strong></p>
      <p style="margin-bottom: 10px;"><i class="fas fa-phone"></i> +7 (922) 744-88-67</p>
      <p style="margin-bottom: 20px;"><i class="fas fa-envelope"></i> info@klimate-komfort.ru</p>
      
      <div class="footer-social">
        <a href="#"><i class="fab fa-vk"></i></a>
        <a href="#"><i class="fab fa-telegram"></i></a>
        <a href="#"><i class="fab fa-whatsapp"></i></a>
        <a href="#"><i class="fab fa-youtube"></i></a>
      </div>
    </div>
  </div>
  
  <div class="footer-bottom">
    <p>&copy; 2025 Klimate Komfort. Все права защищены.</p>
    <p><a href="#" style="color:#aaa;text-decoration:none;">Политика конфиденциальности</a> | 
       <a href="#" style="color:#aaa;text-decoration:none;">Договор-оферта</a></p>
  </div>
</footer>

<script>
  // === КАРУСЕЛЬ МАСТЕРОВ ===
  let currentMasterPage = 0;
  const mastersPerPage = 3;
  const masters = document.querySelectorAll('.master-card');
  const totalPages = Math.ceil(masters.length / mastersPerPage);
  
  function initCarouselDots() {
    const dotsContainer = document.getElementById('carouselDots');
    dotsContainer.innerHTML = '';
    
    for (let i = 0; i < totalPages; i++) {
      const dot = document.createElement('div');
      dot.className = `dot ${i === 0 ? 'active' : ''}`;
      dot.addEventListener('click', () => showMasterPage(i));
      dotsContainer.appendChild(dot);
    }
  }
  
  function showMasterPage(page) {
    const carousel = document.getElementById('mastersCarousel');
    const cardWidth = masters[0].offsetWidth + 30; // + gap
    currentMasterPage = Math.max(0, Math.min(page, totalPages - 1));
    
    carousel.scrollTo({
      left: currentMasterPage * cardWidth * mastersPerPage,
      behavior: 'smooth'
    });
    
    // Обновить активную точку
    document.querySelectorAll('.dot').forEach((dot, index) => {
      dot.classList.toggle('active', index === currentMasterPage);
    });
  }
  
  function scrollMasters(direction) {
    const newPage = currentMasterPage + direction;
    if (newPage >= 0 && newPage < totalPages) {
      showMasterPage(newPage);
    }
  }
  
  // Автоматическое перелистывание
  function autoScrollMasters() {
    const nextPage = (currentMasterPage + 1) % totalPages;
    showMasterPage(nextPage);
  }
  
  // === МОДАЛЬНЫЕ ОКНА ===
  function openModal(type) {
    const modal = document.getElementById('modalBackdrop');
    const body = document.getElementById('modalBody');
    let content = '';

    switch(type) {
      case 'calculate':
        content = `
          <h2>Рассчитать стоимость</h2>
          <form id="calcForm" style="display:flex;flex-direction:column;gap:15px;margin-top:20px;">
            <select required style="padding:10px;border:1px solid #ddd;border-radius:6px;">
              <option value="">Выберите услугу</option>
              <option>Отопление</option>
              <option>Кондиционирование</option>
              <option>Вентиляция</option>
              <option>Теплые полы</option>
              <option>Обслуживание</option>
            </select>
            <input type="number" placeholder="Площадь помещения (м²)" min="10" required style="padding:10px;border:1px solid #ddd;border-radius:6px;">
            <input type="tel" placeholder="Ваш телефон" required style="padding:10px;border:1px solid #ddd;border-radius:6px;">
            <button type="submit" class="btn btn-primary" style="width:100%;padding:12px;">Получить расчёт</button>
          </form>
        `;
        break;
      case 'master':
        content = `
          <h2>Вызвать мастера</h2>
          <p style="color: var(--gray); margin-bottom: 20px;">Мастер приедет в течение 2 часов. Бесплатный выезд и диагностика.</p>
          <form id="masterForm" style="display:flex;flex-direction:column;gap:15px;margin-top:20px;">
            <input type="text" placeholder="Ваше имя" required style="padding:10px;border:1px solid #ddd;border-radius:6px;">
            <input type="tel" placeholder="Телефон" required style="padding:10px;border:1px solid #ddd;border-radius:6px;">
            <textarea placeholder="Адрес и описание проблемы" style="padding:10px;border:1px solid #ddd;border-radius:6px;height:100px;"></textarea>
            <button type="submit" class="btn btn-primary" style="width:100%;padding:12px;">Вызвать мастера</button>
          </form>
        `;
        break;
      case 'callback':
        content = `
          <h2>Заказать звонок</h2>
          <form id="callbackForm" style="display:flex;flex-direction:column;gap:15px;margin-top:20px;">
            <input type="text" placeholder="Ваше имя" required style="padding:10px;border:1px solid #ddd;border-radius:6px;">
            <input type="tel" placeholder="Телефон" required style="padding:10px;border:1px solid #ddd;border-radius:6px;">
            <button type="submit" class="btn btn-primary" style="width:100%;padding:12px;">Перезвоните мне</button>
          </form>
        `;
        break;
    }

    body.innerHTML = content;
    modal.classList.add('active');

    // Обработка форм
    const form = body.querySelector('form');
    if (form) {
      form.onsubmit = function(e) {
        e.preventDefault();
        alert('✅ Спасибо! Ваша заявка отправлена. Мы свяжемся с вами в ближайшее время.');
        closeModal();
      };
    }
  }

  function closeModal() {
    document.getElementById('modalBackdrop').classList.remove('active');
  }

  function showServiceModal(title, description) {
    const modal = document.getElementById('modalBackdrop');
    const body = document.getElementById('modalBody');
    body.innerHTML = `
      <h2>${title}</h2>
      <p style="margin:20px 0; color: var(--gray);">${description}</p>
      <div style="display: flex; gap: 15px; margin-top: 30px;">
        <button class="btn btn-primary" onclick="openModal('calculate')" style="flex: 1; padding: 12px;">Рассчитать стоимость</button>
        <button class="btn btn-secondary" onclick="openModal('master')" style="flex: 1; padding: 12px;">Вызвать мастера</button>
      </div>
    `;
    modal.classList.add('active');
  }

  function showPortfolioModal(title, description) {
    const modal = document.getElementById('modalBackdrop');
    const body = document.getElementById('modalBody');
    body.innerHTML = `
      <h2>${title}</h2>
      <p style="margin:20px 0; color: var(--gray);">${description}</p>
      <button class="btn btn-primary" onclick="openModal('calculate')" style="width:100%;padding:12px;">Рассчитать свой проект</button>
    `;
    modal.classList.add('active');
  }

  // === ФИЛЬТРЫ ПОРТФОЛИО ===
  document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      const filter = btn.dataset.filter;
      document.querySelectorAll('.portfolio-item').forEach(item => {
        if (filter === 'all' || item.dataset.category === filter) {
          item.style.display = 'block';
        } else {
          item.style.display = 'none';
        }
      });
    });
  });

  // === ОТПРАВКА КОНТАКТНОЙ ФОРМЫ ===
  document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    alert('✅ Спасибо за заявку! Мы скоро свяжемся с вами.');
    this.reset();
  });

  // === ПЛАВНАЯ ПРОКРУТКА ===
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      if (this.getAttribute('href') === '#') return;
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        window.scrollTo({
          top: target.offsetTop - 80,
          behavior: 'smooth'
        });
      }
    });
  });

  // Инициализация при загрузке
  document.addEventListener('DOMContentLoaded', function() {
    initCarouselDots();
    
    // Автопрокрутка карусели каждые 5 секунд
    setInterval(autoScrollMasters, 5000);
    
    // Обновление точек при скролле карусели
    const carousel = document.getElementById('mastersCarousel');
    carousel.addEventListener('scroll', () => {
      const cardWidth = masters[0].offsetWidth + 30;
      const newPage = Math.round(carousel.scrollLeft / (cardWidth * mastersPerPage));
      if (newPage !== currentMasterPage) {
        currentMasterPage = newPage;
        document.querySelectorAll('.dot').forEach((dot, index) => {
          dot.classList.toggle('active', index === currentMasterPage);
        });
      }
    });
  });
</script>
</body>
</html>